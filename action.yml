name: 'N2P UI Infrastructure Action'
description: 'Deploys or Destroys the N2P UI Infrastructure'
author: 'net2phone'

inputs:
  name:
    description: 'The name of the project'
    required: true
  action:
    description: 'The action to perform "deploy" or "destroy"'
    required: true
  environment:
    description: 'The environment to deploy to'
    default: tmp
  aws-account:
    description: 'The AWS account to deploy to'
    required: true
  aws-region:
    description: 'The AWS region to deploy to'
    required: true
  variables:
    description: 'The variables to pass to the CDK'
    required: true

outputs:
  folder:
    description: 'The folder to upload'
  bucket:
    description: 'The bucket to upload to'
  id:
    description: 'The distribution id'
  url:
    description: 'The distribution url'

runs:
  using: node20
  main: index.js
